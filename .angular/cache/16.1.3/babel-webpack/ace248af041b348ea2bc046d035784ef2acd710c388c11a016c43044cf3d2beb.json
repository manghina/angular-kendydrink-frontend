{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport let TokenService = /*#__PURE__*/(() => {\n  class TokenService {\n    constructor() {\n      this.issuer = {\n        login: 'http://127.0.0.1:8000/api/auth/login',\n        register: 'http://127.0.0.1:8000/api/auth/register'\n      };\n    }\n    handleData(token) {\n      localStorage.setItem('auth_token', token);\n    }\n    getToken() {\n      return localStorage.getItem('auth_token');\n    }\n    // Verify the token\n    isValidToken() {\n      const token = this.getToken();\n      if (token) {\n        const payload = this.payload(token);\n        if (payload) {\n          return Object.values(this.issuer).indexOf(payload.iss) > -1 ? true : false;\n        }\n      } else {\n        return false;\n      }\n      return false;\n    }\n    payload(token) {\n      const jwtPayload = token.split('.')[1];\n      return JSON.parse(atob(jwtPayload));\n    }\n    // User state based on valid token\n    isLoggedIn() {\n      return this.isValidToken();\n    }\n    // Remove token\n    removeToken() {\n      localStorage.removeItem('auth_token');\n    }\n  }\n  TokenService.ɵfac = function TokenService_Factory(t) {\n    return new (t || TokenService)();\n  };\n  TokenService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: TokenService,\n    factory: TokenService.ɵfac,\n    providedIn: 'root'\n  });\n  return TokenService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}