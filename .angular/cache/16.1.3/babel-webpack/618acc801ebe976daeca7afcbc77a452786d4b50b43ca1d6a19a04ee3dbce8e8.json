{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { URL_API } from 'src/app/shared/constant';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../auth.service\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../../components/navbar/navbar.component\";\nfunction RegisterComponent_p_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 25);\n    i0.ɵɵtext(1, \"\\u26A0\\uFE0F Compilare il campo!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_p_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 25);\n    i0.ɵɵtext(1, \"\\u26A0\\uFE0F Compilare il campo!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_p_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 25);\n    i0.ɵɵtext(1, \"\\u26A0\\uFE0F Compilare il campo!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_p_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 25);\n    i0.ɵɵtext(1, \"\\u26A0\\uFE0F Compilare il campo!\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let RegisterComponent = /*#__PURE__*/(() => {\n  class RegisterComponent {\n    constructor(authService, http, router) {\n      this.authService = authService;\n      this.http = http;\n      this.router = router;\n      this.displayPsw = false;\n    }\n    ngOnInit() {\n      this.homeform = new FormGroup({\n        name: new FormControl(null, Validators.required),\n        surname: new FormControl(null, Validators.required),\n        email: new FormControl(null, [Validators.required, Validators.email]),\n        password: new FormControl(null, [Validators.required, Validators.minLength(8)])\n      });\n    }\n    onSubmit() {\n      this.http.post(URL_API + 'register', {\n        name: this.homeform.value.name,\n        surname: this.homeform.value.surname,\n        email: this.homeform.value.email,\n        password: this.homeform.value.password\n      }).pipe(catchError(error => {\n        if (error.status === 204) {\n          // Gestisci l'errore 204 (No Content)\n        } else if (error.status === 409) {\n          // Gestisci l'errore 409 (Conflict)\n          console.log('Quest\\'email è già stata registrata');\n        } else if (error.status === 422) {\n          // Gestisci l'errore 422 (Unprocessable Entity)\n          console.log('L\\'email non esiste');\n        } else {\n          // Altri errori\n          console.error('Errore HTTP:', error);\n          return throwError('Si è verificato un errore durante la registrazione');\n        }\n        return throwError('');\n      })).subscribe(response => {\n        console.log(response);\n        this.router.navigate(['/login']);\n      });\n    }\n    toggleDisplayPsw() {\n      this.displayPsw = !this.displayPsw;\n    }\n  }\n  RegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n    return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  RegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegisterComponent,\n    selectors: [[\"app-register\"]],\n    decls: 40,\n    vars: 11,\n    consts: [[1, \"page-container\"], [1, \"contenitore\"], [1, \"testo\"], [1, \"register-container\"], [1, \"register\"], [1, \"form\", 3, \"formGroup\", \"ngSubmit\"], [1, \"name\"], [1, \"inputtt\"], [\"src\", \"../../../assets/icons/user.svg\", \"alt\", \"\", 1, \"icon\"], [\"type\", \"text\", \"id\", \"name\", \"name\", \"name\", \"required\", \"\", \"autocomplete\", \"off\", \"placeholder\", \"Nome\", \"formControlName\", \"name\", 1, \"input\"], [\"class\", \"form-error\", 4, \"ngIf\"], [1, \"name\", \"surname\"], [\"type\", \"text\", \"id\", \"surname\", \"name\", \"surname\", \"required\", \"\", \"autocomplete\", \"off\", \"placeholder\", \"Cognome\", \"formControlName\", \"surname\", 1, \"input\"], [1, \"email\"], [\"src\", \"../../../assets/icons/mail-grey.svg\", \"alt\", \"\", 1, \"icon\"], [\"type\", \"text\", \"id\", \"email\", \"name\", \"email\", \"required\", \"\", \"autocomplete\", \"off\", \"placeholder\", \"Email\", \"formControlName\", \"email\", 1, \"input\"], [1, \"password\"], [\"src\", \"../../../assets/icons/lock.svg\", \"alt\", \"\", 1, \"icon\"], [\"id\", \"password\", \"name\", \"password\", \"required\", \"\", \"autocomplete\", \"off\", \"placeholder\", \"Password\", \"formControlName\", \"password\", 1, \"input\", 3, \"type\"], [\"src\", \"../../../assets/icons/eye-icon.svg\", \"alt\", \"\", 1, \"fas\", \"fa-eye\", 3, \"click\"], [\"src\", \"../../../assets/icons/eye-slash.svg\", \"alt\", \"\", 1, \"fas\", \"fa-eye-slash\", 3, \"click\"], [1, \"ccc\"], [\"type\", \"submit\", \"value\", \"INVIA\", 1, \"submit-btn\", 3, \"disabled\"], [1, \"scritte-sotto\"], [\"routerLink\", \"/login\"], [1, \"form-error\"]],\n    template: function RegisterComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"navbar\");\n        i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2)(4, \"h1\");\n        i0.ɵɵtext(5, \"CIAO!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"h2\");\n        i0.ɵɵtext(7, \"Sei nuovo? Registrati ora per diventare un cliente!\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"div\", 3)(9, \"div\", 4)(10, \"h3\");\n        i0.ɵɵtext(11, \"REGISTRATI\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"form\", 5);\n        i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_12_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(13, \"div\", 6)(14, \"div\", 7);\n        i0.ɵɵelement(15, \"img\", 8)(16, \"input\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(17, RegisterComponent_p_17_Template, 2, 0, \"p\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 11)(19, \"div\", 7);\n        i0.ɵɵelement(20, \"img\", 8)(21, \"input\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(22, RegisterComponent_p_22_Template, 2, 0, \"p\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 13)(24, \"div\", 7);\n        i0.ɵɵelement(25, \"img\", 14)(26, \"input\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(27, RegisterComponent_p_27_Template, 2, 0, \"p\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"div\", 16);\n        i0.ɵɵelement(29, \"img\", 17)(30, \"input\", 18);\n        i0.ɵɵelementStart(31, \"img\", 19);\n        i0.ɵɵlistener(\"click\", function RegisterComponent_Template_img_click_31_listener() {\n          return ctx.toggleDisplayPsw();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"img\", 20);\n        i0.ɵɵlistener(\"click\", function RegisterComponent_Template_img_click_32_listener() {\n          return ctx.toggleDisplayPsw();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(33, RegisterComponent_p_33_Template, 2, 0, \"p\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"div\", 21);\n        i0.ɵɵelement(35, \"input\", 22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"div\", 23)(37, \"a\", 24);\n        i0.ɵɵtext(38, \"Sei gi\\u00E0 registrato? Accedi\");\n        i0.ɵɵelement(39, \"br\");\n        i0.ɵɵelementEnd()()()()()()();\n      }\n      if (rf & 2) {\n        let tmp_1_0;\n        let tmp_2_0;\n        let tmp_3_0;\n        let tmp_7_0;\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"formGroup\", ctx.homeform);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", !((tmp_1_0 = ctx.homeform.get(\"name\")) == null ? null : tmp_1_0.valid) && ((tmp_1_0 = ctx.homeform.get(\"name\")) == null ? null : tmp_1_0.touched));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", !((tmp_2_0 = ctx.homeform.get(\"surname\")) == null ? null : tmp_2_0.valid) && ((tmp_2_0 = ctx.homeform.get(\"surname\")) == null ? null : tmp_2_0.touched));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", !((tmp_3_0 = ctx.homeform.get(\"email\")) == null ? null : tmp_3_0.valid) && ((tmp_3_0 = ctx.homeform.get(\"email\")) == null ? null : tmp_3_0.touched));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"type\", ctx.displayPsw ? \"text\" : \"password\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleProp(\"display\", ctx.displayPsw ? \"none\" : \"initial\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleProp(\"display\", ctx.displayPsw ? \"initial\" : \"none\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !((tmp_7_0 = ctx.homeform.get(\"password\")) == null ? null : tmp_7_0.valid) && ((tmp_7_0 = ctx.homeform.get(\"password\")) == null ? null : tmp_7_0.touched));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", !ctx.homeform.valid);\n      }\n    },\n    dependencies: [i4.NgIf, i3.RouterLink, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.FormGroupDirective, i5.FormControlName, i6.NavbarComponent],\n    styles: [\".page-container[_ngcontent-%COMP%]{width:100%;height:96vh}.contenitore[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.testo[_ngcontent-%COMP%]{width:50%;margin-left:10%}.testo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--blu)}.register-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.register-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#000}.register[_ngcontent-%COMP%]{width:400px;padding:20px;border-radius:16px;background:rgba(255,255,255,.9);box-shadow:0 10px 40px #0003}.register[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-size:25px}.scritte-sotto[_ngcontent-%COMP%]{margin-top:30px;text-align:center}.icon[_ngcontent-%COMP%]{width:20px;margin-right:15px}.inputtt[_ngcontent-%COMP%]{display:flex}.input[_ngcontent-%COMP%]{height:50px;outline:none;background:none;border:none;border-bottom:3px solid var(--blu)}.name[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], .password[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:300px}.form[_ngcontent-%COMP%]{margin-top:30px;display:flex;flex-direction:column;align-items:center}.name[_ngcontent-%COMP%]{margin-bottom:30px;display:flex;flex-direction:column}.name[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px}.email[_ngcontent-%COMP%]{margin-bottom:30px;display:flex;flex-direction:column}.email[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px}.name[_ngcontent-%COMP%] > .fas[_ngcontent-%COMP%], .password[_ngcontent-%COMP%] > .fas[_ngcontent-%COMP%]{margin-right:15px}.fa-eye[_ngcontent-%COMP%], .fa-eye-slash[_ngcontent-%COMP%]{position:absolute;width:20px;cursor:pointer;transform:translate(-32px,15px)}[_ngcontent-%COMP%]::placeholder{color:#a6a6a6;opacity:1;font-size:15px;margin-bottom:-5px}.form-error[_ngcontent-%COMP%]{color:#fff;margin:10px 0 0 15px}.ccc[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:var(--blu);margin-top:50px}.ccc[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{color:#fff}.submit-btn[_ngcontent-%COMP%]{width:230px;height:50px;margin-top:30px;border-radius:50px;border:3px solid var(--blu);display:flex;justify-content:center;align-items:center;font-size:20px;font-weight:700;color:var(--blu);cursor:pointer;background-color:transparent}.submit-btn[_ngcontent-%COMP%]:hover{background-color:var(--blu);transition:.2s;color:#fff}.submit-btn[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:var(--blu)}.icons-otp[_ngcontent-%COMP%]{width:100%;height:60px;display:flex;flex-direction:row;align-items:center;justify-content:center}.google-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:50px;height:50px;border:2px solid #2B2B2B;border-radius:25px;margin:0 10px}.google-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:25px}.facebook-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:50px;height:50px;border:2px solid #2B2B2B;border-radius:25px;margin:0 10px}.facebook-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:25px}@media screen and (max-width: 1000px){.testo[_ngcontent-%COMP%]{display:none}}\"]\n  });\n  return RegisterComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}