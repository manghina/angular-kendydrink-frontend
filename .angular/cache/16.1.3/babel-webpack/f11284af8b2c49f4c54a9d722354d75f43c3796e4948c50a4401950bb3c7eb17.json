{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/cart.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction CartComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"h3\", 8);\n    i0.ɵɵtext(2, \"Non ci sono ancora prodotti nel carrello\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/product\", a1];\n};\nfunction CartComponent_div_6_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵelement(1, \"img\", 19);\n    i0.ɵɵelementStart(2, \"div\", 20)(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 21)(6, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function CartComponent_div_6_div_16_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const p_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.carrello.incrementQuantity(p_r3));\n    });\n    i0.ɵɵtext(7, \"+\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function CartComponent_div_6_div_16_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const p_r3 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.carrello.decrementQuantity(p_r3));\n    });\n    i0.ɵɵtext(11, \"-\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 24)(13, \"h2\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"currency\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const p_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r2.URL_API + \"product/\" + p_r3.id + \"/img/\" + \"15\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(10, _c0, p_r3.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(12, _c0, p_r3.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r3.name);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(p_r3.quantity);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(14, _c0, p_r3.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(15, 7, p_r3.quantity * p_r3.price, \"EUR\"));\n  }\n}\nfunction CartComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"div\", 10)(2, \"div\", 11)(3, \"h2\", 12);\n    i0.ɵɵtext(4, \"CARRELLO\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"span\", 13);\n    i0.ɵɵelementStart(6, \"div\", 14)(7, \"h4\");\n    i0.ɵɵtext(8, \"Totale Carrello\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"h3\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"button\", 15)(13, \"h5\");\n    i0.ɵɵtext(14, \"PROCEDI AL CHECKOUT\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(15, \"div\", 16);\n    i0.ɵɵtemplate(16, CartComponent_div_6_div_16_Template, 16, 16, \"div\", 17);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 2, ctx_r1.carrello.totalCartPrice(), \"EUR\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.cartItems);\n  }\n}\nexport let CartComponent = /*#__PURE__*/(() => {\n  class CartComponent {\n    constructor(cart, location) {\n      this.cart = cart;\n      this.location = location;\n      this.cartKey = 'myCart';\n      this.cartItems = [];\n      this.URL_API = '';\n      this.product = this.cart.items;\n      this.carrello = this.cart;\n      this.URL_API = this.URL_API;\n      const cartData = localStorage.getItem(this.cartKey);\n      if (cartData) {\n        this.product = JSON.parse(cartData);\n      }\n    }\n    goBack() {\n      this.location.back();\n    }\n    ngOnInit() {\n      // Carica il carrello di default presente nel localStorage\n      const cartFromLocalStorage = localStorage.getItem('cart');\n      if (cartFromLocalStorage) {\n        this.cart.setCartItems(cartFromLocalStorage);\n      }\n      // Sottoscrizione al Subject del carrello\n      this.cartItemsSubscription = this.cart.cartItemsSubject.subscribe(cartItems => {\n        this.cartItems = cartItems;\n        // ... //\n      });\n    }\n\n    ngOnDestroy() {\n      this.cartItemsSubscription.unsubscribe();\n    }\n    addToCart(product) {\n      this.cart.addToCart(product);\n      // console.log('PRODOTTO AGGIUNTO AL CARRELLO');\n    }\n  }\n\n  CartComponent.ɵfac = function CartComponent_Factory(t) {\n    return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.CartService), i0.ɵɵdirectiveInject(i2.Location));\n  };\n  CartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CartComponent,\n    selectors: [[\"app-cart\"]],\n    decls: 7,\n    vars: 2,\n    consts: [[1, \"wrapper\"], [1, \"back-button\"], [3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"height\", \"1em\", \"viewBox\", \"0 0 320 512\"], [\"d\", \"M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z\"], [\"class\", \"container-no-product\", 4, \"ngIf\"], [\"class\", \"container\", 4, \"ngIf\"], [1, \"container-no-product\"], [1, \"title-no-product\"], [1, \"container\"], [1, \"info-container\"], [1, \"cart-info\"], [2, \"color\", \"black\"], [1, \"linea\"], [1, \"totalCart\"], [\"routerLink\", \"/billing-details\", 1, \"checkout-button\"], [1, \"cart-container\"], [\"class\", \"single-product\", 4, \"ngFor\", \"ngForOf\"], [1, \"single-product\"], [\"alt\", \"\", 3, \"routerLink\", \"src\"], [1, \"title\", 3, \"routerLink\"], [1, \"quantity\"], [\"type\", \"button\", 1, \"plus-button\", 3, \"click\"], [\"type\", \"button\", 1, \"minus-button\", 3, \"click\"], [1, \"price\", 3, \"routerLink\"]],\n    template: function CartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function CartComponent_Template_button_click_2_listener() {\n          return ctx.goBack();\n        });\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(3, \"svg\", 3);\n        i0.ɵɵelement(4, \"path\", 4);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(5, CartComponent_div_5_Template, 3, 0, \"div\", 5);\n        i0.ɵɵtemplate(6, CartComponent_div_6_Template, 17, 5, \"div\", 6);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.product.length < 1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.product.length > 0);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink, i2.CurrencyPipe],\n    styles: [\".wrapper[_ngcontent-%COMP%]{height:100%;width:100%;margin-top:70px}.back-button[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;margin:25px}.back-button[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:50px;height:50px;border:none;border-radius:50%}.back-button[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{height:25px}.container[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;display:flex;flex-direction:row-reverse}.container-no-product[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center}.title-no-product[_ngcontent-%COMP%]{margin:70px 0;height:-moz-fit-content;height:fit-content;text-align:center}.info-container[_ngcontent-%COMP%]{width:30%;height:500px;display:flex;align-items:center;justify-content:center;flex-direction:column}.cart-info[_ngcontent-%COMP%]{width:85%;height:auto;min-height:80%;background-color:#eee;border-radius:30px;padding:40px;display:flex;align-items:center;justify-content:center;flex-direction:column;box-shadow:0 0 25px 0 var(--grey)}.cart-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:5px}.linea[_ngcontent-%COMP%]{height:5px;width:70%;background-color:#000;padding:0!important;margin-bottom:30px;border-radius:5px}.totalCart[_ngcontent-%COMP%]{display:flex;flex-direction:row}.totalCart[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--blu)}.totalCart[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:flex;align-items:center}.cart-info[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:10px}.checkout-button[_ngcontent-%COMP%]{color:#fff;padding:20px;border:none;border-radius:50px;background-color:var(--blu);border:0;cursor:pointer}.checkout-button[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0}.cart-container[_ngcontent-%COMP%]{width:70%;display:flex;align-items:center;flex-direction:column;margin:30px 0 100px}.single-product[_ngcontent-%COMP%]{width:85%;border-radius:20px;background-color:#eee;display:flex;justify-content:space-around;flex-direction:row;flex-wrap:wrap;align-items:center;margin:20px;box-shadow:0 0 25px 0 var(--grey)}.single-product[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;margin:30px;cursor:pointer}.title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:20px;font-size:30px!important;text-align:center;cursor:pointer}.price[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:20px;font-size:35px;text-align:center;color:var(--blu);cursor:pointer}.quantity[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:20px}.quantity[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:30px;height:30px;background-color:#fff;margin:0;display:flex;align-items:center;justify-content:center}.plus-button[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:15px 0 0 15px;border:none;background-color:#fff}.minus-button[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:0 15px 15px 0;border:none;background-color:#fff}@media only screen and (max-width: 1500px){.container[_ngcontent-%COMP%]{flex-direction:column}.info-container[_ngcontent-%COMP%]{width:100%}.cart-info[_ngcontent-%COMP%]{width:85%}.cart-container[_ngcontent-%COMP%]{width:100%}.cart-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px}}\"]\n  });\n  return CartComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}